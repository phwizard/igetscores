#summary One-sentence summary of this page.

= get_scores.php =

Returns an XML with rankings for the current game.

Usage:
get_scores.php?subgame_id=ID ( ID = 1, 2, .. ) [limit, offset, interval, preview, name]

An example of data returned:

{{{
 <?xml version="1.0" standalone="yes"?>
<game_scores count="10" error="0">
  <score>
   <name>Petya</name>
   <value>4000</value>
   <datetime>0000-00-00 00:00:00</datetime>
   <country_code>Netherlands</country_code>
  </score>
  ...
 </game_scores>
}}}

Parameters:

|| *subgame_id* || Integer || Subgame ID (you should know your subgame ID - this is static)  ||

|| *limit*|| Integer || defines how many records to display. For example, you need to display top 10, then you put limit=10  ||

|| *offset*|| Integer || defines how many records to skip. For example, you need to display the second page of top 100, 10 records per page, then you put limit=100 and offset = 10  ||

|| *preview* || Integer || Adds a 'virtual' score to the table - score taken from _preview_ value. Sometimes it is cool to show users their ranking in the global high scores table BEFORE adding the score so that they can decide whether to add it and input their name. In case _name_ is not specified, "Your score" will be displayed as a name for a preview score record. In XML it's marked with "own" flag. ||

|| *limit_above* and *limit_below* || Integer || To be used together with _preview_. These parameters specify how many records to show above and under user's current record. Can be used, for example, when you need to display the current user's preview records and also show who are his neighbors in the leaderboard. _Limit_ and _offset_ become ineffective when these two are used. ||

|| *name* || String || Determines a name to display for current user's ranking when in _preview_ mode. ||

Note: when not in _preview_ mode, the most recent result with the matching _device ID_ will be highlighted with "own" flag.


----

= add_score.php =

Adds a high score result into DB. 
Returns an XML with rankings for the current game.


===Parameters===


|| *subgame_id* || Integer || Subgame ID (you should know your subgame ID - this is static)  ||

|| *name* || String || Player's name. ||

|| *device_id*|| String || Device ID (supplied by iPhone client)  ||

|| *email*|| String || Optional. User's e-mail. ||

Also, for XML returned, the parameters from _get_scores_ work. The difference is you don't have to specify 'preview' in order for _limit_above_ and _limit_below_ to work.


===Custom parameters===

You need to supply the custom parameters if they have been set up for current subgame. Just add them as normal parameters. Example: "..&secrets=5&kills=11&level=3"


===Error flags===

these are returned here:
{{{
<game_scores count="10" error=" *0* ">
}}}

|| *0* || Some error occured - result has not been added. ||
|| *1* || Result added successfully. ||
|| *2* || Result updated. ||
|| *4* || Not enough parameters. ||